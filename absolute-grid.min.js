'use strict';(function(a){let c={containerSelector:'.container',childrenSelector:'.children',width:190,height:250,marginX:10,marginY:15,enableHover:!1,enableClick:!1};class d{constructor(e){this.options=this.extend(c,e||{}),this.container=document.querySelector(this.options.containerSelector),this.children=this.container.querySelectorAll(this.options.childrenSelector),this.containerWidth=this.container.clientWidth,this.positionCards(),window.addEventListener('resize',this.onWindowResize.bind(this)),this.children.forEach(f=>{this.options.enableHover&&(f.addEventListener('mouseover',this.onHover.bind(this)),f.addEventListener('mouseout',this.onHover.bind(this))),this.options.enableClick&&f.addEventListener('click',this.onClick.bind(this))})}extend(e,f){return Object.keys(f).forEach(g=>{e[g]=f[g]}),e}calculateNumberOfCardsInRow(){return Math.floor(this.containerWidth/(this.options.width+this.options.marginX))}positionCards(){var e=0,f=0,g=this.calculateNumberOfCardsInRow();this.children.forEach(h=>{f+1>g&&(f=0,e++),h.style.left=`${f*(this.options.width+this.options.marginX)}px`,h.style.top=`${e*(this.options.height+this.options.marginY)}px`,f++}),this.container.style.height=`${this.options.height+e*this.options.height+e*this.options.marginY}px`}onWindowResize(){this.containerWidth=this.container.clientWidth,this.positionCards()}onHover(e){e.target.classList.contains('active')||e.target.classList.toggle('hover')}onClick(e){this.activeChild||(this.overlay=document.createElement('div'),this.overlay.className='overlay',this.overlay.style.zIndex=999,document.body.appendChild(this.overlay),this.overlay.addEventListener('click',this.onOverlayClick.bind(this)),this.children.forEach(f=>f.classList.remove('active')),this.activeChild=e.target,this.activeChild.classList.add('active'),this.activeChild.style.zIndex=1e3)}onOverlayClick(){this.overlay.removeEventListener('click',this.onOverlayClick),document.body.removeChild(this.overlay),this.activeChild.classList.remove('active'),this.activeChild.style.zIndex='',this.activeChild=void 0}}a.AbsoluteGrid=e=>new d(e)})(window);
